<html>
  <head>
    <script>
	//   function getCurrentUser() {
	//     const key = document.querySelector('#apiKey').value;
	// 	if (!key) {
	// 	  alert('API key is required')
	// 	  return
	// 	}
	//     fetch('https://api.clockify.me/api/v1/user', {
	// 	  headers: {
	// 	    'X-Api-Key': key
	// 	  }
	// 	}).then(r => r.json()).then(user => {
	// 	  let message = 'Provided API key is not valid'
	// 	  user.name && (message = `Welcome ${user.name}`)
		  
	// 	  document.querySelector('#result').innerText = message
	// 	})
	//   }
	  function getAmount() {
		fetch('https://reports.api.clockify.me/v1/workspaces/636a749f352e1a148fb07239/reports/summary', {
			method: 'POST',
			headers: {
		    'X-Api-Key': "MWYyOWM3ODktMzJiYS00ZWJkLTljM2MtMmI2OWIzNGRkYzlh",
			'Content-Type': 'application/json'
		  },
		  body: JSON.stringify({
        "dateRangeStart": "2022-10-31T00:00:00.000",
        "dateRangeEnd": "2022-11-27T23:59:59.999",
        "summaryFilter": {
            "groups": ["PROJECT"],
            "sortColumn": "GROUP"
            },
        "exportType": "JSON"
        }),

		}).then(r => r.json()).then(data => {
		  message = data.totals[0].totalAmount
		  
		  document.querySelector('#result').innerText = message
		})
	  }
	  window.onload = getAmount;
	</script>
  </head>
  <body>
    <!-- Your <a href="https://clockify.me/user/settings" target="_blank">API key</a>: <input id="apiKey"> 
    <button onClick="getCurrentUser()">Go</button><br> -->
	
	<span id="result">
  </body>
</html>
